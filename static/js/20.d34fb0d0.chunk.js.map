{"version":3,"sources":["components/formGroupInput/FormGroupInput.jsx","components/formTextareaInput/FormTextareaInput.jsx","components/adminCharacterAdd/AdminCharacterAdd.jsx"],"names":["FormGroupInput","name","id","value","onChange","image","otherProps","className","htmlFor","FormTextareaInput","children","rows","required","AdminCharacterAdd","selectedCharacter","title","submitButton","edit","useState","characterImg","intro","intro1","intro2","form","setForm","previewImage","setPreviewImage","dispatch","useDispatch","history","useHistory","handleChange","event","target","files","previewImageURL","window","URL","createObjectURL","reader","FileReader","onload","e","result","readAsDataURL","useEffect","onSubmit","preventDefault","saveWarning","then","isConfirmed","editCharacterStart","addCharacterStart","NoInput","type","accept","src","alt"],"mappings":"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","file":"static/js/20.d34fb0d0.chunk.js","sourcesContent":["import React from 'react';\n\nfunction FormGroupInput({ name, id, value, onChange, image, ...otherProps }) {\n\n  return (\n    <div className=\"formGroupInput\">\n      <div className=\"form__group input\">\n        <label htmlFor={id} className=\"form__label\">{name}</label>\n        <input id={id} className={`form__input ${image ? 'form__input-image' : null} `} name={id} value={value || ''} onChange={onChange} {...otherProps} />\n      </div>\n    </div>\n  );\n}\n\nexport default FormGroupInput;","import React from 'react';\n\nfunction FormTextareaInput({ name, id, value, children, ...otherProps }) {\n  return (\n    <div className=\"formTextareaInput form__group input\">\n      <label htmlFor={id} className=\"form__label\">{name}</label>\n      <div className=\"Textarea-wrapper\">\n        <textarea name={id} id={id} className=\"form__textarea\" rows=\"5\" value={value} required {...otherProps}>\n          {children}\n        </textarea>\n      </div>\n    </div>\n  );\n}\n\nexport default FormTextareaInput;","import React, { useEffect, useState } from 'react';\nimport { useDispatch } from 'react-redux'\nimport { addCharacterStart, editCharacterStart } from '../../redux/character/character.action'\nimport { useHistory } from 'react-router-dom'\n\nimport FormGroupInput from '../formGroupInput/FormGroupInput'\nimport FormTextareaInput from '../formTextareaInput/FormTextareaInput'\nimport AdminCustomButton from '../adminCustomButton/AdminCustomButton'\n\nimport { NoInput, saveWarning } from '../../effects/sweetAlert2.effects'\n\n\nfunction AdminCharacterAdd({ selectedCharacter, title, submitButton, edit }) {\n  const [form, setForm] = useState({ name: '', characterImg: '', intro: { intro1: '', intro2: '' } })\n  const [previewImage, setPreviewImage] = useState()\n  const dispatch = useDispatch()\n  const history = useHistory()\n\n  useEffect(() => {\n    if (selectedCharacter) {\n      setForm(selectedCharacter)\n    }\n  }, [selectedCharacter])\n\n  function handleSubmit(event) {\n    event.preventDefault()\n\n    if (!form.name) {\n      NoInput('角色名稱')\n      return\n    } else if (!form.characterImg) {\n      NoInput('角色圖片')\n      return\n    }\n    else if (!form.intro) {\n      NoInput('角色介紹')\n      return\n    }\n\n    if (!edit) {\n      dispatch(addCharacterStart({ form, setForm }))\n    } else {\n      saveWarning().then((result) => {\n        if (result.isConfirmed) {\n          dispatch(editCharacterStart({ form, history }))\n        }\n      })\n\n    }\n  }\n\n  function handleChange(event) {\n    const { value, name, files } = event.target\n    setForm({ ...form, [name]: value })\n    if (files) {\n      let previewImageURL = window.URL.createObjectURL(files[0])\n      setPreviewImage(previewImageURL)\n      let image = files[0]\n      const reader = new FileReader()\n      reader.onload = (e) => {\n        setForm({ ...form, characterImg: e.target.result })\n      }\n      reader.readAsDataURL(image)\n    }\n    if (name === \"intro1\" || name === \"intro2\") {\n      setForm({ ...form, intro: { ...form.intro, [name]: value } })\n    }\n  }\n\n  return (\n    <div className=\"adminAdd__page pageContainer max-width-big-desktop\">\n      <form className=\"adminAdd__form\" onSubmit={handleSubmit}>\n        <h1 className=\"adminAdd__title\">{title}</h1>\n        <FormGroupInput name=\"角色名稱\" id=\"name\" value={form.name} onChange={handleChange} />\n        <div className=\"adminAdd__input-image\">\n          <FormGroupInput type=\"file\" accept=\"image/*\" name=\"角色圖片\" id=\"photo\" image onChange={handleChange} />\n          {\n            form.characterImg ?\n              <img\n                src={previewImage ? previewImage : form.characterImg}\n                className=\"adminAdd__preview-image\"\n                alt=\"preview\"\n              /> : null\n          }\n        </div>\n        <FormTextareaInput name=\"角色介紹1\" id=\"intro1\" value={form.intro && form.intro.intro1 ? form.intro.intro1 : ''} onChange={handleChange} />\n        <FormTextareaInput name=\"角色介紹2\" id=\"intro2\" value={form.intro && form.intro.intro2 ? form.intro.intro2 : ''} onChange={handleChange} />\n\n        <AdminCustomButton edit={submitButton} />\n\n      </form>\n    </div>\n  );\n}\n\nexport default AdminCharacterAdd;"],"sourceRoot":""}