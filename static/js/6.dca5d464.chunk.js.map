{"version":3,"sources":["components/adminPageTitle/AdminPageTitle.jsx","components/adminTable/AdminTable.jsx","components/adminTableItem/AdminTableItem.jsx","pages/admin/Admin.jsx"],"names":["AdminPageTitle","title","addBottom","link","notShowAddButton","className","to","isAdminButton","AdminTable","children","tableTitles","map","tableTitle","index","key","AdminTableItem","td1","td2","td3","td4","isWishCard","id","page","dispatch","useDispatch","history","useHistory","data-title","src","alt","onClick","push","handleEditClick","deleteWarning","then","result","isConfirmed","deletePostCardStart","deleteHistoryStart","deleteCharacterStart","deleteStickerStart","deleteWishCardStart","handleDeleteClick","Admin","props","postCards","useSelector","state","postCard","cards","isLoading","useEffect","fetchPostCardsStart","media","date","photo"],"mappings":"8GAAA,mDA2BeA,IAnBf,YAAuE,IAA7CC,EAA4C,EAA5CA,MAAOC,EAAqC,EAArCA,UAAWC,EAA0B,EAA1BA,KAAMC,EAAoB,EAApBA,iBAChD,OACE,yBAAKC,UAAU,+BACb,4BAAKJ,GAEHG,EACE,GAEA,kBAAC,IAAD,CAAME,GAAIH,GACR,kBAAC,IAAD,CAAcI,eAAa,GACzB,kBAAC,IAAD,MACCL,O,uDCnBf,2BAyBeM,IArBf,YAAgD,IAA1BC,EAAyB,EAAzBA,SAAUC,EAAe,EAAfA,YAC9B,OACE,yBAAKL,UAAU,2BACb,+BACE,+BACE,4BAEIK,EAAYC,KAAI,SAACC,EAAYC,GAC3B,OAAO,wBAAIC,IAAKD,GAAQD,QAKhC,+BACGH,O,uDClBX,4GAyEeM,IAzDf,YAAoF,IAA1DL,EAAyD,EAAzDA,YAAaM,EAA4C,EAA5CA,IAAKC,EAAuC,EAAvCA,IAAKC,EAAkC,EAAlCA,IAAKC,EAA6B,EAA7BA,IAAKC,EAAwB,EAAxBA,WAAYC,EAAY,EAAZA,GAAIC,EAAQ,EAARA,KACnEC,EAAWC,cACXC,EAAUC,cA4BhB,OACE,4BACE,wBAAIC,aAAYjB,EAAY,IAAKM,GACjC,wBAAIW,aAAYjB,EAAY,IAAKO,GACjC,wBAAIU,aAAYjB,EAAY,IAAKQ,GACjC,wBAAIS,aAAYjB,EAAY,IAExBU,EACED,EAEA,yBAAKd,UAAU,cACb,yBAAKuB,IAAKT,EAAKU,IAAI,GAAGxB,UAAU,iBAMxC,wBAAIsB,aAAYjB,EAAY,IAC1B,yBAAKL,UAAU,eACb,kBAAC,IAAD,CAAcE,eAAa,EAACuB,QAAS,kBAvB7C,SAAyBT,GACvBI,EAAQM,KAAR,iBAAuBT,EAAvB,iBAAoCD,IAsBaW,CAAgBX,KAAK,kBAAC,IAAD,OAChE,kBAAC,IAAD,CAAcd,eAAa,EAACuB,QAAS,kBA9C7C,SAA2BT,GACzBY,cAAgBC,MAAK,SAACC,GACpB,GAAIA,EAAOC,YACT,OAAQd,GACN,IAAK,OACH,OAAOC,EAASc,YAAoBhB,IACtC,IAAK,UACH,OAAOE,EAASe,YAAmBjB,IACrC,IAAK,YACH,OAAOE,EAASgB,YAAqBlB,IACvC,IAAK,UACH,OAAOE,EAASiB,YAAmBnB,IACrC,IAAK,WACH,OAAOE,EAASkB,YAAoBpB,IAEtC,QACE,WA8ByCqB,CAAkBrB,KAAK,kBAAC,IAAD,Y,uDClE5E,8EA8CesB,UArCf,SAAeC,GAEb,IAAMC,EAAYC,aAAY,SAACC,GAAD,OAAWA,EAAMC,SAASC,SAClDC,EAAYJ,aAAY,SAACC,GAAD,OAAWA,EAAMC,SAASE,aAClD3B,EAAWC,cAEjB2B,qBAAU,WACR5B,EAAS6B,iBACR,CAAC7B,IAEJ,IAAMb,EAAc,CAClB,eACA,eACA,2BACA,eACA,gBAGF,OACE,yBAAKL,UAAU,uCACb,kBAAC,IAAD,CAAgBJ,MAAM,2BAAOC,UAAU,2BAAOC,KAAK,oBAEjD+C,EACE,kBAAC,IAAD,MAEA,kBAAC,IAAD,CAAYxC,YAAaA,GAErBmC,EAAUlC,KAAI,SAACqC,EAAUnC,GACvB,OAAO,kBAAC,IAAD,CAAgBC,IAAKkC,EAAS3B,GAAIX,YAAaA,EAAaM,IAAKH,EAAQ,EAAGI,IAAK+B,EAASK,MAAOnC,IAAK8B,EAASM,KAAMnC,IAAK6B,EAASO,MAAOlC,GAAI2B,EAAS3B,GAAIC,KAAK","file":"static/js/6.dca5d464.chunk.js","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom'\nimport { RiAddBoxLine } from 'react-icons/ri';\n\nimport CustomButton from '../custom-button/CustomButton.jsx'\n\nimport './adminPageTitle.style.scss'\n\nfunction AdminPageTitle({ title, addBottom, link, notShowAddButton }) {\n  return (\n    <div className=\"adminPageTitle admin-margin\">\n      <h1>{title}</h1>\n      {\n        notShowAddButton ?\n          ''\n          :\n          <Link to={link}>\n            <CustomButton isAdminButton>\n              <RiAddBoxLine />\n              {addBottom}\n            </CustomButton>\n          </Link>\n      }\n    </div>\n  );\n}\n\nexport default AdminPageTitle;","import React from 'react';\n\nimport './adminTable.style.scss'\n\nfunction AdminTable({ children, tableTitles }) {\n  return (\n    <div className=\"adminTable admin-margin\">\n      <table>\n        <thead>\n          <tr>\n            {\n              tableTitles.map((tableTitle, index) => {\n                return <th key={index}>{tableTitle}</th>\n              })\n            }\n          </tr>\n        </thead>\n        <tbody>\n          {children}\n        </tbody>\n      </table>\n    </div>\n  );\n}\n\nexport default AdminTable;","import React from 'react';\nimport { useDispatch } from 'react-redux'\nimport { deletePostCardStart } from '../../redux/postCard/postCard.action'\nimport { deleteHistoryStart } from '../../redux/history/history.action'\nimport { deleteCharacterStart } from '../../redux/character/character.action'\nimport { deleteStickerStart } from '../../redux/sticker/sticker.action'\nimport { deleteWishCardStart } from '../../redux/wishCard/wishCard.action'\nimport { useHistory } from 'react-router-dom'\n\nimport CustomButton from '../custom-button/CustomButton'\nimport { MdEdit, MdDelete } from 'react-icons/md'\n\nimport { deleteWarning } from '../../effects/sweetAlert2.effects'\n\nimport './adminTableItem.style.scss'\n\nfunction AdminTableItem({ tableTitles, td1, td2, td3, td4, isWishCard, id, page }) {\n  const dispatch = useDispatch()\n  const history = useHistory()\n\n  function handleDeleteClick(id) {\n    deleteWarning().then((result) => {\n      if (result.isConfirmed) {\n        switch (page) {\n          case \"main\":\n            return dispatch(deletePostCardStart(id))\n          case \"history\":\n            return dispatch(deleteHistoryStart(id))\n          case \"character\":\n            return dispatch(deleteCharacterStart(id))\n          case \"sticker\":\n            return dispatch(deleteStickerStart(id))\n          case \"wishCard\":\n            return dispatch(deleteWishCardStart(id))\n\n          default:\n            return\n        }\n      }\n    })\n  }\n\n  function handleEditClick(id) {\n    history.push(`/admin/${page}/edit/${id}`)\n  }\n\n  return (\n    <tr>\n      <td data-title={tableTitles[0]}>{td1}</td>\n      <td data-title={tableTitles[1]}>{td2}</td>\n      <td data-title={tableTitles[2]}>{td3}</td>\n      <td data-title={tableTitles[3]}>\n        {\n          isWishCard ?\n            td4\n            :\n            <div className=\"table__img\">\n              <img src={td4} alt=\"\" className=\"table__img\" />\n            </div>\n        }\n\n      </td>\n\n      <td data-title={tableTitles[4]}>\n        <div className=\"table__icon\">\n          <CustomButton isAdminButton onClick={() => handleEditClick(id)}><MdEdit /></CustomButton>\n          <CustomButton isAdminButton onClick={() => handleDeleteClick(id)}><MdDelete /></CustomButton>\n        </div>\n      </td>\n    </tr>\n  );\n}\n\nexport default AdminTableItem;","import React, { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux'\nimport { fetchPostCardsStart } from '../../redux/postCard/postCard.action.js'\n\nimport AdminPageTitle from '../../components/adminPageTitle/AdminPageTitle'\nimport AdminTable from '../../components/adminTable/AdminTable'\nimport AdminTableItem from '../../components/adminTableItem/AdminTableItem'\nimport Spinner from '../../components/spinner/spinner.component'\n\nfunction Admin(props) {\n\n  const postCards = useSelector((state) => state.postCard.cards)\n  const isLoading = useSelector((state) => state.postCard.isLoading)\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    dispatch(fetchPostCardsStart())\n  }, [dispatch])\n\n  const tableTitles = [\n    '序列',\n    '來源',\n    '發布時間',\n    '縮圖',\n    '管理'\n  ]\n\n  return (\n    <div className=\"pageContainer max-width-big-desktop\">\n      <AdminPageTitle title=\"管理貼文\" addBottom=\"新增貼文\" link=\"/admin/main/add\" />\n      {\n        isLoading ?\n          <Spinner />\n          :\n          <AdminTable tableTitles={tableTitles}>\n            {\n              postCards.map((postCard, index) => {\n                return <AdminTableItem key={postCard.id} tableTitles={tableTitles} td1={index + 1} td2={postCard.media} td3={postCard.date} td4={postCard.photo} id={postCard.id} page=\"main\" />\n              })\n            }\n          </AdminTable>\n      }\n    </div>\n  );\n}\n\nexport default Admin;"],"sourceRoot":""}