{"version":3,"sources":["components/formGroupInput/FormGroupInput.jsx","components/formSelectInput/FormSelectInput.jsx","components/formTextareaInput/FormTextareaInput.jsx","components/adminHistoryAdd/AdminHistoryAdd.jsx"],"names":["FormGroupInput","name","id","value","onChange","image","otherProps","className","htmlFor","FormSelectInput","children","required","disabled","FormTextareaInput","rows","AdminHistoryAdd","selectedHistory","title","submitButton","edit","useState","type","date","img","desc","form","setForm","previewImage","setPreviewImage","dispatch","useDispatch","history","useHistory","handleChange","event","target","files","previewImageURL","window","URL","createObjectURL","reader","FileReader","onload","e","result","readAsDataURL","useEffect","onSubmit","preventDefault","trim","saveWarning","then","isConfirmed","editHistoryStart","addHistoryStart","blankWarning","NoInput","accept","src","alt"],"mappings":"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","file":"static/js/16.f490b55b.chunk.js","sourcesContent":["import React from 'react';\n\nfunction FormGroupInput({ name, id, value, onChange, image, ...otherProps }) {\n\n  return (\n    <div className=\"formGroupInput\">\n      <div className=\"form__group input\">\n        <label htmlFor={id} className=\"form__label\">{name}</label>\n        <input id={id} className={`form__input ${image ? 'form__input-image' : null} `} name={id} value={value || ''} onChange={onChange} {...otherProps} />\n      </div>\n    </div>\n  );\n}\n\nexport default FormGroupInput;","import React from 'react';\n\nfunction FormSelectInput({ name, id, value, children, ...otherProps }) {\n  return (\n    <div className=\"formSelectInput form__group input\">\n      <label htmlFor={id} className=\"form__label\">{name}</label>\n      <div className=\"select-wrapper\">\n        <select name={id} id={id} className=\"form__input\" value={value} required {...otherProps}>\n          <option value=\"default\" disabled >請選擇{name}</option>\n          {children}\n        </select>\n      </div>\n    </div>\n  );\n}\n\nexport default FormSelectInput;","import React from 'react';\n\nfunction FormTextareaInput({ name, id, value, children, ...otherProps }) {\n  return (\n    <div className=\"formTextareaInput form__group input\">\n      <label htmlFor={id} className=\"form__label\">{name}</label>\n      <div className=\"Textarea-wrapper\">\n        <textarea name={id} id={id} className=\"form__textarea\" rows=\"5\" value={value} required {...otherProps}>\n          {children}\n        </textarea>\n      </div>\n    </div>\n  );\n}\n\nexport default FormTextareaInput;","import React, { useEffect, useState } from 'react';\nimport { useDispatch } from 'react-redux'\nimport { editHistoryStart, addHistoryStart } from '../../redux/history/history.action'\nimport { useHistory } from 'react-router-dom'\n\nimport FormGroupInput from '../formGroupInput/FormGroupInput'\nimport FormSelectInput from '../formSelectInput/FormSelectInput'\nimport FormTextareaInput from '../formTextareaInput/FormTextareaInput'\nimport AdminCustomButton from '../adminCustomButton/AdminCustomButton'\n\nimport { NoInput, saveWarning, blankWarning } from '../../effects/sweetAlert2.effects'\n\n\nfunction AdminHistoryAdd({ selectedHistory, title, submitButton, edit }) {\n  const [form, setForm] = useState({\n    type: 'default',\n    date: '',\n    img: '',\n    desc: ''\n  })\n  const [previewImage, setPreviewImage] = useState()\n  const dispatch = useDispatch()\n  const history = useHistory()\n\n  useEffect(() => {\n    if (selectedHistory) {\n      setForm(selectedHistory)\n    }\n  }, [selectedHistory])\n\n  function handleSubmit(event) {\n    event.preventDefault()\n\n    if (!form.type) {\n      NoInput('類型')\n      return\n    } else if (!form.date) {\n      NoInput('日期')\n      return\n    }\n    else if (!form.desc) {\n      NoInput('描述')\n      return\n    } else if (form.desc.trim() === '') {\n      blankWarning()\n      return\n    }\n\n\n    if (!edit) {\n      dispatch(addHistoryStart({ form, setForm }))\n    } else {\n      saveWarning().then((result) => {\n        if (result.isConfirmed) {\n          dispatch(editHistoryStart({ form, history }))\n        }\n      })\n    }\n  }\n\n  function handleChange(event) {\n    const { value, name, files } = event.target\n    if (files) {\n      let previewImageURL = window.URL.createObjectURL(files[0])\n      setPreviewImage(previewImageURL)\n      let image = files[0]\n      const reader = new FileReader()\n      reader.onload = (e) => {\n        setForm({ ...form, img: e.target.result })\n      }\n      reader.readAsDataURL(image)\n    }\n    setForm({ ...form, [name]: value })\n  }\n\n  return (\n    <div className=\"adminAdd__page pageContainer max-width-big-desktop\">\n      <form className=\"adminAdd__form\" onSubmit={handleSubmit}>\n        <h1 className=\"adminAdd__title\">{title}</h1>\n        <FormSelectInput name=\"類型\" id=\"type\" value={form.type} onChange={handleChange} >\n          <option value=\"product\">產品</option>\n          <option value=\"history\">事件</option>\n        </FormSelectInput>\n        <FormGroupInput name=\"日期\" id=\"date\" type=\"date\" value={form.date} onChange={handleChange} />\n        <div className=\"adminAdd__input-image\">\n          <FormGroupInput type=\"file\" accept=\"image/*\" name=\"圖片\" id=\"photo\" image onChange={handleChange} />\n          {\n            form.img ?\n              <img\n                src={previewImage ? previewImage : form.img}\n                className=\"adminAdd__preview-image\"\n                alt=\"preview\"\n              /> : null\n          }\n        </div>\n        <FormTextareaInput name=\"描述\" id=\"desc\" value={form.desc} onChange={handleChange} />\n\n        <AdminCustomButton edit={submitButton} />\n\n      </form>\n    </div>\n  );\n}\n\nexport default AdminHistoryAdd;"],"sourceRoot":""}